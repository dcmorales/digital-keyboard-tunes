@use '@/styles/abstracts' as *;

.tooltipContainer {
	display: inline-block;
	position: relative;

	.tooltipTextContainer {
		position: absolute;
		visibility: hidden;
		z-index: 1;

		&:has(.bottom) {
			left: 50%;
			padding-top: $size-s;
			top: 100%;
			transform: translateX(-50%);
		}

		&:has(.top) {
			bottom: 100%;
			left: 50%;
			padding-bottom: $size-s;
			transform: translateX(-50%);
		}

		&:has(.left) {
			padding-right: $size-s;
			right: 100%;
			top: 50%;
			transform: translateY(-50%);
		}

		&:has(.right) {
			left: 100%;
			padding-left: $size-s;
			top: 50%;
			transform: translateY(-50%);
		}

		&.isVisible {
			visibility: visible;
		}
	}

	.tooltipText {
		background-color: $color-blue-darkest;
		border-radius: $size-xs;
		color: $color-white;
		padding: $size-s;
		position: relative;
		width: 10rem;

		// add caret to tooltip
		&.bottom {
			&::before {
				border-color: transparent transparent $color-blue-darkest transparent;
				border-style: solid;
				border-width: 5px;
				bottom: 100%;
				content: '';
				left: 50%;
				position: absolute;
				transform: translateX(-50%);
			}
		}

		&.top {
			&::after {
				border-color: $color-blue-darkest transparent transparent transparent;
				border-style: solid;
				border-width: 5px;
				content: '';
				left: 50%;
				position: absolute;
				top: 100%;
				transform: translateX(-50%);
			}
		}

		&.left {
			&::before {
				border-color: transparent transparent transparent $color-blue-darkest;
				border-style: solid;
				border-width: 5px;
				content: '';
				left: 100%;
				position: absolute;
				top: 50%;
				transform: translateY(-50%);
			}
		}

		&.right {
			&::before {
				border-color: transparent $color-blue-darkest transparent transparent;
				border-style: solid;
				border-width: 5px;
				content: '';
				position: absolute;
				right: 100%;
				top: 50%;
				transform: translateY(-50%);
			}
		}

		@include breakpoint(large) {
			width: 7rem;
		}
	}

	&.tooltipDefault {
		position: absolute;

		.infoIcon {
			background-color: $color-white;
			border: 1px solid $color-blue-darkest;
			border-radius: 50%;
			height: $rem-s;
			outline: none;
			padding: 0;
			transition: background-color 0.3s;
			width: $rem-s;

			svg {
				fill: $color-blue-darkest;
				transition: fill 0.3s;
			}

			&:focus {
				background-color: $color-blue-dark;

				svg {
					fill: $color-white;
				}
			}
		}

		// reset text position to be directly under the info icon without centering
		.tooltipTextContainer {
			&:has(.bottom) {
				left: auto;
				top: auto;
				transform: none;
			}

			&.positionedLeft {
				left: auto;
				right: 0;
			}

			// no caret for info icon tooltip
			.tooltipText {
				&::before {
					content: none;
				}
			}
		}
	}

	// consistent style when hovering over tooltip text, not just trigger element
	&:hover {
		button {
			border-color: $color-blue-dark;
			box-shadow: 0 $size-xs $size-s rgba(0, 0, 0, 0.2);
		}

		.infoIcon {
			background-color: $color-blue-dark;
			box-shadow: none;

			svg {
				fill: $color-white;
			}
		}
	}
}
